(this["webpackJsonpweather-app-react"]=this["webpackJsonpweather-app-react"]||[]).push([[0],{104:function(t,e,a){},105:function(t,e,a){"use strict";a.r(e);var s=a(2),n=a(1),c=a.n(n),r=a(24),i=a.n(r),o=(a(65),a(32)),l=a.n(o),j=a(50),h=a(17),d=a(25),u=a(26),x=a(28),O=a(27),b=a(51),m=a.n(b),_=a(107),f=a(109),p=a(108),w=a(56),C=a(59),D=function(t){return Object(s.jsxs)(_.a,{className:"searchBox",xs:12,md:6,children:[Object(s.jsx)(C.a,{id:"async-example",isLoading:t.loaded,labelKey:"name",minLength:3,onChange:t.changed,onSearch:t.searched,options:t.options,placeholder:"Enter city name...",renderMenuItemChildren:function(t){return Object(s.jsx)(c.a.Fragment,{children:Object(s.jsxs)("span",{children:[t.name,Object(s.jsxs)("small",{children:[": ",t.country]})]})})}}),Object(s.jsx)("div",{className:"searchBox__icon",children:Object(s.jsx)(w.a,{})})]})},y=a(12),v=function(t){var e=Object(s.jsx)(y.d,{});return t.type&&(e=Object(s.jsx)("i",{className:"owf owf-3x owf-".concat(t.type,"-").concat(t.suffix)})),Object(s.jsx)("div",{className:"weatherIcon",children:e})},g=function(t){return Object(s.jsxs)("div",{className:"".concat(t.rootClass,"__temp"),children:[t.temp,Object(s.jsx)("span",{className:"".concat(t.rootClass,"__temp__unit"),children:t.unit}),Object(s.jsxs)("p",{className:"".concat(t.rootClass,"__temp__feels"),children:["Feels Like: ",t.feels,Object(s.jsx)("span",{className:"".concat(t.rootClass,"__temp__feels__unit"),children:t.unit})]})]})},N=function(t){return Object(s.jsxs)("div",{className:"".concat(t.rootClass,"__location"),children:[Object(s.jsx)("span",{children:t.city}),Object(s.jsx)("span",{children:t.country})]})},B=function(t){return Object(s.jsx)("div",{className:"".concat(t.rootClass,"__description"),children:t.description})},k=function(t){return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsxs)("div",{className:"".concat(t.rootClass,"__type"),children:[t.data,Object(s.jsx)("span",{className:"".concat(t.rootClass,"__type__unit"),children:t.unit})]}),Object(s.jsx)("div",{className:"".concat(t.rootClass,"__icon"),children:t.icon}),Object(s.jsx)("h3",{className:"".concat(t.rootClass,"__title"),children:t.title})]})},M=a(13),S=a.n(M),L=function(t){Object(x.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state={currentTime:S()().format("HH:mm:ss"),currentDate:S()().format("DD.MM.YYYY")},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.intervalID=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"tick",value:function(){this.setState({currentTime:S()().format("HH:mm:ss"),currentDate:S()().format("DD.MM.YYYY")})}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"".concat(this.props.rootClass,"__times"),children:[Object(s.jsx)("p",{className:"".concat(this.props.rootClass,"__times__time"),children:this.state.currentTime}),Object(s.jsx)("p",{className:"".concat(this.props.rootClass,"__times__date"),children:this.state.currentDate})]})}}]),a}(c.a.Component),Y=a(110),H=a(35),F=a(57),I=function(t){var e="0",a=S()(t.weatherCurrentData.dt,"X").utcOffset(1).format("HH:mm:ss"),n=t.weatherCurrentData.rain,r=function(t){return Math.round(10*t)/10},i=Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)("span",{children:r(t.weatherDailyData[0].temp.min)}),Object(s.jsx)("span",{children:"\xb0C"}),Object(s.jsx)("span",{children:r(t.weatherDailyData[0].temp.max)}),Object(s.jsx)("span",{children:"\xb0C"})]});return n>0&&(e=n[Object.keys(n)[0]]),Object(s.jsxs)("div",{className:"weatherBox".concat(t.dayOrNight),children:[Object(s.jsx)(Y.a,{variant:"link",className:"weatherBox__reloadButton",onClick:t.clicked,children:Object(s.jsx)(H.b,{})}),Object(s.jsxs)("div",{className:"weatherBox__mainContent",children:[Object(s.jsx)(v,{type:t.weatherCurrentData.weather[0].id,suffix:t.suffix}),Object(s.jsx)(g,{rootClass:"weatherBox__mainContent",temp:r(t.weatherCurrentData.temp),feels:r(t.weatherCurrentData.feels_like),unit:"\xb0C"}),Object(s.jsx)(L,{rootClass:"weatherBox__mainContent"}),Object(s.jsx)(N,{rootClass:"weatherBox__mainContent",city:t.city,country:t.country}),Object(s.jsx)(B,{rootClass:"weatherBox__mainContent",description:t.weatherCurrentData.weather[0].description})]}),Object(s.jsxs)(p.a,{className:"weatherBox__otherData",children:[Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:t.weatherCurrentData.wind_speed,unit:"m/s",title:"Wind Flow",icon:Object(s.jsx)(y.b,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:t.weatherCurrentData.pressure,unit:"hPa",title:"Air Pressure",icon:Object(s.jsx)(y.a,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:t.weatherCurrentData.humidity,unit:"%",title:"Humidity",icon:Object(s.jsx)(y.c,{})})})]}),Object(s.jsxs)(p.a,{className:"weatherBox__otherData",children:[Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"temp weatherBox__otherData",data:i,unit:"",title:"Temp",icon:Object(s.jsx)(y.g,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:t.weatherCurrentData.uvi,unit:"",title:"UV-index",icon:Object(s.jsx)(y.f,{})})})]}),Object(s.jsxs)(p.a,{className:"weatherBox__otherData",children:[Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:t.weatherCurrentData.visibility,unit:"m",title:"Visibility",icon:Object(s.jsx)(H.a,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:a,unit:"",title:"Data",icon:Object(s.jsx)(F.a,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"weatherBox__otherData",data:e,unit:"mm/h",title:"Rain",icon:Object(s.jsx)(y.e,{})})})]}),Object(s.jsx)("div",{className:"random",children:Math.random()})]})},U=function(t){var e=function(t){return Math.round(10*t)/10},a=S()(t.forecastData.dt,"X").utcOffset(1).format("DD.MM.YYYY"),n=S()(t.forecastData.dt,"X").utcOffset(1).format("ddd"),c=Object(s.jsxs)("div",{className:"minmax",children:[Object(s.jsx)("span",{children:e(t.forecastData.temp.min)}),Object(s.jsx)("span",{children:"\xb0C"}),Object(s.jsx)("span",{children:e(t.forecastData.temp.max)}),Object(s.jsx)("span",{children:"\xb0C"})]});return Object(s.jsx)("div",{className:"forecast__data",children:Object(s.jsxs)(p.a,{className:"forecast__data__row",children:[Object(s.jsx)(_.a,{children:Object(s.jsxs)("div",{className:"forecast__data__date",children:[Object(s.jsx)("h4",{children:n}),Object(s.jsx)("small",{children:a})]})}),Object(s.jsx)(_.a,{children:Object(s.jsxs)("div",{className:"forecast__data__weather",children:[Object(s.jsx)(v,{type:t.forecastData.weather[0].id,suffix:"d"}),Object(s.jsx)("h3",{children:t.forecastData.weather[0].description})]})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"temp forecast__data",data:c,unit:"",title:"Temp",icon:Object(s.jsx)(y.g,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"forecast__data",data:t.forecastData.uvi,unit:"",title:"UV-index",icon:Object(s.jsx)(y.f,{})})}),Object(s.jsx)(_.a,{children:Object(s.jsx)(k,{rootClass:"forecast__data",data:t.forecastData.humidity,unit:"%",title:"Humidity",icon:Object(s.jsx)(y.c,{})})})]})})},W=function(t){return Object(s.jsxs)("div",{className:"forecast".concat(t.dayOrNight),children:[Object(s.jsx)("h2",{className:"forecast__title",children:"7 day weather forecast"}),t.weatherDailyData.map((function(t,e){return e>0?Object(s.jsx)(U,{forecastData:t},e):""}))]})},A=function(t){return Object(s.jsx)("div",{className:"loader",children:Object(s.jsxs)("div",{className:"loader__inner",children:[Object(s.jsx)("span",{}),Object(s.jsx)("span",{}),Object(s.jsx)("span",{})]})})},T=a(58),V=(a(104),function(t){Object(x.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state={weatherDailyData:null,weatherCurrentData:null,city:"Budapest",country:"HU",lat:47.498,lng:19.0399,units:"metric",lang:"hu",isLoadedCurrent:!1,isSearchLoading:!1,options:[],selected:[],error:!1},t.handleCityChange=function(e){e.length>0&&(t.setState(Object(h.a)(Object(h.a)({},t.state),{},{city:e[0].name,country:e[0].country,lat:e[0].lat,lng:e[0].lng})),t.getWeather(e[0].name,t.state.units,e[0].lat,e[0].lng))},t.handleSearch=function(e){t.setState({isSearchLoading:!0});var a=T.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())}));if(void 0!==a){var s=a.map((function(t){return{name:t.name,country:t.country,lat:t.lat,lng:t.lng}}));t.setState({options:s})}t.setState({isSearchLoading:!1})},t.handleForceUpdate=function(){t.forceUpdate()},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getWeather(this.state.city,this.state.units,this.state.lat,this.state.lng)}},{key:"getWeather",value:function(){var t=Object(j.a)(l.a.mark((function t(e,a,s,n){var c,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat("https://api.openweathermap.org/data/2.5","/onecall?lat=").concat(s,"&lon=").concat(n,"&units=").concat(a,"&exclude=hourly&appid=").concat("e4416791f6592e7751ed8ef186941d43"),t.prev=1,t.next=4,m.a.get(c);case 4:r=t.sent,i=r.data,this.setState(Object(h.a)(Object(h.a)({},this.state),{},{weatherDailyData:i.daily,weatherCurrentData:i.current,isLoadedCurrent:!0})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("\ud83d\ude31 Axios request failed: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));return function(e,a,s,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=Object(s.jsx)(A,{}),a=S()().valueOf(),n="",r="d";return this.state.isLoadedCurrent&&(this.state.weatherCurrentData.sunset>a&&this.state.weatherCurrentData.sunrise<a&&(n=" nightMode",r="n"),e=Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)(_.a,{className:"main__content__col",md:12,lg:6,children:Object(s.jsx)(I,{suffix:r,dayOrNight:n,city:this.state.city,country:this.state.country,weatherCurrentData:this.state.weatherCurrentData,weatherDailyData:this.state.weatherDailyData,clicked:this.handleForceUpdate})}),Object(s.jsx)(_.a,{className:"main__content__col",md:12,lg:6,children:Object(s.jsx)(W,{dayOrNight:n,weatherCurrentData:this.state.weatherCurrentData,weatherDailyData:this.state.weatherDailyData})})]})),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(f.a,{className:"main",children:[Object(s.jsx)(D,Object(h.a)(Object(h.a)({},this.state),{},{loaded:this.state.isSearchLoading,searched:function(e){return t.handleSearch(e)},changed:function(e){return t.handleCityChange(e)},options:this.state.options})),Object(s.jsx)(p.a,{className:"main__content",children:e})]})})}}]),a}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(V,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},65:function(t,e,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.e302c995.chunk.js.map